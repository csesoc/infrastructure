# This playbook configures the SSH authorised keys of the current ansible user.
---
- name: Configure Authorized Keys
  hosts: all
  tags: security
  vars:
    authorized_keys:
      # Nick Whyte
      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCzhFQmx3gz+fSiTgqguRYskIrOzuYteTIRLIom7jFQSRcxIiIozX/FMOyFpc7ASmy9FNvlUzjZEcgOoTjdflUTDWp8N61pjcpO3n8FEGe7Ine7HOpbIC6ghWeDNS4nyg3Tsk3cK2kLTXBdKk+gGU7ZnvT7WzehlLLVNpnnUqmdVmy4OU4yRQ6Fvs+lVVcEkCpIa83oqLX6w/nNxv3mVXrdPYtluCOLJ/dajZht5zFLOY6hJSPuVxwy2oRSzmrSh+Dn0tBr9C5H8QtEUgHm0s4k7gHn6ivAopqyfU0WvPgiIrLPwmXysCzxrOiiXoXAT4p6bJj5W/ei62FejEeBbZTn nickw@pro.home-feb-2016
      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC/5tFquHcGRtHJWy6aq2bg4ivCU4TLF7QX94FZNScWGL5Xle7GZS5519u+GGFo1IObDovGUTe0nz9hOXHigc+6ABia4QSsd/lzVvp0EnqysiCnhRpzS4miTUmH4v46ubNFiQ/eGXSXG7pAO7ozLBsLpnEdxxf/BBr8MF8wCSI3KKTMKBhy6KlM/klwucsn6042OFlszmhNuSn/JK2ZKl2qAFSTEBo1qBnCVtJjrDU89F0R7BnR8/835K809o52/muKrFAGITZF2rvb7kZmGMH19aN7qP5kHBsnOLcinuL0sdGMHjCfxVQchernMTQ6olvVF0xzXC9vanKcRziYHMB3 nickw@canva
      # Thomas Lam
      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC+GrnXq/xGqc/bQZKq6fKPXy5pQP22ZwbRc/IhGihMQ9hqG3aTk3CwhaqbuFSTvolpWVCUYepewjBeOoTwhLGetV+UAodyiVllEMSCzoVDB0jrm+Uq6shpNVgYt9zZiP/1ql/0DihxcZgjIZnyWLQFHGjJAfm2KIwOQ4lgTVYGrsfN5yw4khSxRkIiGwdQOH//PMHj5NXId3GqQB6h0L/PIC2pfKLWRfzLw+AHP39QelDWWCjGjOcfX1r3GPDJyETavX+ujOmofp1JuWbZe06hO8q/GB9MqsBpWx1h9NotWDGmlqaEM8HevOu++2YQx3SGawcqSa0Y24GyKhnF7YGJsrWTjeyDFcS1tTqB4zlzr4Pmi2V2kTcxqbWZTvJVzr2NpwEHIGO6OYGysrqjzGPQsrxM/q7czJ//raIWg24M3yzbKOcBBIS3cZyW3Hh01pixanY3/f5nNe0PcPf0lylzrTeMpXVhMd/Z8W2AgNigJ2X7bsoBjV7BdDa7382yhxywF43mhpDGcEwxrPMmSEcZyMe6UU3UZz88t9vkXY2fMeLUTPP2u8Z+sphFrQvajmTbbnsxzXRr3Gai82nEnmw5cfqJhFQP2UNYjYIxcCdaMtCtAulxzMXFsXdhY+Qdkw/Hyn9fACbixs+wv1U1hEL1Nudijn0ZTW1cJsYmvn+buQ== z5136612@cse.unsw.edu.au
      # Adam Tizzone
      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDFMaLrVynvfCaI5XLUOeWnVijIPLYltmed2JpAo3yzBaLjsbFhLHAgOu2TDCXXuVDEk8ec6ppJWgRzJgCTH06WmTEyvOLCpaBd8ZUOkiqtzvaToR+8kBOgr+uKFa3uex7TARlAjXDTHGuBgdk7ErHs6O8YS5+OuzUtBZeJ+nA5K1QX8Ns+P3bHbbTSZ4DjU+uV/MYftmpB+O9oQbo7YQHRBB9rq5Aqi+VlRaq2XWFcdx0KYDYfY4/pHtHsdu8NyoCc+LrCzzWfTqLpcpzn4nqlZlPWeCvrvLfmB4nqWCN4iuxtlNVMJ/FNt5NLqifiZTG7We8O6Uw/8CiF2CtGM/It adam@laptop
      # Thomas Kunc
      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC09/iVY7nD727DpY2viwrdozwfmou8M3sFHARBpXCDPnTUgXX8SDQOANuXk5UsFgfvp+lr0vKb5S4OfkkQxdlkH8yO418t1UwZiYm1d6L2eNXWGzy80rkSsxq8P+DmoGthDax04e0htcIDC7+Y1dOaVaIuv01ZJ3yUnOGPS+Yvte3DluzXlVULCcXwHFe9+zUmcFxicy/EW5I3a1mAyblGz2jhz6G3jbhOgzfOSoFtUZbE6jtZf70EKylA146pg/sgShmK++HijnJcjUQTh0FUKlba2uLu7+eJ38pJNbVtisHT/uDT3nTFJCEYZy4Xt3dvboOp7XAzH1dxX19VqkYx tomkunc0@gmail.com
      # Gordon Zhong
      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDIC06YB8eMjXpqCcFxCL/yCS87r9kT8FOqXCpACoqhBLRdu1N4qnoq5nqHGoZpLRE7N3hU4vNbk8dzYzA1notbtFAf2QutKf9qUxXS5MTafmMbb1pL4oFqzfr2aUlVGPvWkXBeixHMgfynRU4NftcY/p318mtQcxKMc2deZz6GEb7jFVFnzUBtWyvFmFhEkmfTVsJEQArgpVToPkUrDf8gww3KTXLJVMGDu6DZ+2BZr5HAHwQ4oYJZQym5AbwUq3iT8LUMm1sfLUNmhoMBrcv/Xi9767ijUe2YNQ4ggUbXhfXKRfBDVntjHbkjoAtRNQjWGBru0aAuMtX5YDK1P0PwgY22IQ8olGW7tRKfyCYa1rFFI6e3PDwiIsb15TRpAkRgzH5Ll+3O1E3Po/wcXXpybg9LJ/bN2NkfC6cM+dzwhs0FMMRyEXxDpjid9fBGGBcbCbBMSm5QdOTU4+F91StV6psb4e1lzdVwuvMbG7rMFb3noa/OVsmLqaWBFnXS8/OJVPSd2boQFSg8EmAJXIquZMS5FRjvgPAqEgzl8E4gQ4Gxv+LKc27PnWx8qHLfpNUAjdo1eeYb4Dq8fARSkydY+UE7IBMAqXxdzeoOPV70o5mit6Lg9daQNfVoxWt1jVMKFl06EHAvToE3d3h84wvqMXY6P3uWheBT97Ib2axSmw== gordon.zhong@outlook.com.au
      # Leesa Dang
      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDiSB5kujfx5JbU+L2BAD7HStUj6XjubLUoIZV8ecfZioWqm/08n0TtflsSyyIXh4pANbiBYDfV8Vp4UFa+aRlhstmAqeSD0wuDZ+AeXq1T2R4v3eMU09XxD0ouc2jsyvnPuOuyy9P+YTZ9H7I8UvzRE20XEiAN5kJdO+E++vLMBgINU7i+GL7VyMCc5tIX7Tgjlt3pywGymgJrQDSq48DN36/AaLu0FBTpiD4quMd2a7A6/F3TSHnPdN1cFTQlNL1zz+6ROEI1ahGIEtMZTrZTWCT02tPEp2+GToaBOGBkorX7MEUgcAIK4XtRy9bnnUtehvtBzi583nnWgCP7+AvT z5164947@cse.unsw.edu.au
  tasks:
    - name: "Install Keys"
      authorized_key:
        exclusive: yes
        user: "{{ ansible_user }}"
        key: "{{ '\n'.join(authorized_keys + extra_authorized_keys) }}"
